{% extends '@bolt/_base/layout.twig' %}

{% block title %}
    {{ 'caption.finder'|trans }} Â» <strong>{{ name }}</strong>
{% endblock %}

{% block main %}

    <h2>{{ 'caption.path'|trans }}: {{ area }}{{ path }}</h2>

    {% include '@bolt/finder/_quickselect.twig' %}

    {% include '@bolt/finder/_folders.twig' %}

    {% include '@bolt/finder/_files.twig' %}

{% endblock %}

{% block aside %}

<div class="card mb-4">
    <div class="card-header">{{ 'caption.meta_information'|trans }}</div>
    <div class="card-body">

    </div>
</div>

    {% include '@bolt/finder/_uploader.twig' %}

{% endblock aside %}

{% block stylesheets %}
   {{ parent() }}

   <style>
        .filepond--root {
            margin-bottom: 0 !important;
        }
    </style>
{% endblock %}

{% block javascripts %}
    {{ parent() }}

    <script>
        document.addEventListener("DOMContentLoaded", function() {
            $('#quickselect').selectize({
                create: true,
                sortField: 'text',
                maxItems: 1,
                closeAfterSelect: true,
                options: [
                    {% for file in allfiles %}
                    {value: '{{ file.filename }}', description: '{{ file.description }}'},
                    {% endfor %}3
                ],
                render: {
                    option: function(data) {
                        return "<div data-value='"+data.value+"' class='option'>" +
                            data.value +
                            " <small> " + data.description + " </small></div>";
                    },
                    item: function(data) {
                        return "<div data-value='"+data.value+"' class='option'>" +
                            data.value +
                            " <small> " + data.description + " </small></div>";
                    }
                }
            });
        });

    </script>

{% endblock javascripts %}